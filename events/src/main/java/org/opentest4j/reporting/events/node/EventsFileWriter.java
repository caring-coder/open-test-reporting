package org.opentest4j.reporting.events.node;

import org.opentest4j.reporting.events.api.ChildElement;
import org.opentest4j.reporting.events.api.Factory;

import java.io.Closeable;
import java.util.function.Consumer;

public interface EventsFileWriter extends Closeable {

    /**
     * No-op implementation of {@code EventReportFileWriter}
     */
    EventsFileWriter NOOP = new EventsFileWriter() {

        @Override
        public <T extends ChildElement<Events, ?>> void append(Factory<T> eventFactory, Consumer<? super T> eventConsumer) {
        }

        @Override
        public void close() {
        }

    };

    default <T extends ChildElement<Events, ?>> void append(Factory<T> eventFactory) {
        append(eventFactory, __ -> {});
    }

    <T extends ChildElement<Events, ?>> void append(Factory<T> eventFactory, Consumer<? super T> eventConsumer);

}
